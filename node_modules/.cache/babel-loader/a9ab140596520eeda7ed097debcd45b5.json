{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/daniy/Documents/GitHub/livemeetingapp/liveapp/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/daniy/Documents/GitHub/livemeetingapp/liveapp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/daniy/Documents/GitHub/livemeetingapp/liveapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useReducer}from'react';import axios from'axios';import crudContext from'./crudContext';import crudReducer from'./crudReducers';import{GET_MEETINGS,ADD_MEETING,DELETE_MEETING,SET_CURRENT,CLEAR_CURRENT,UPDATE_MEETING,FILTER_MEETINGS,CLEAR_FILTER,MEETING_ERROR,CLEAR_MEETINGS}from'../types';var CrudState=function CrudState(props){var initialState={meetings:[],current:null,filtered:null,error:null};var _useReducer=useReducer(crudReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Get Meetings\nvar getMeetings=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/crud');case 3:res=_context.sent;dispatch({type:GET_MEETINGS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:MEETING_ERROR,payload:_context.t0.response.msg});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getMeetings(){return _ref.apply(this,arguments);};}();// Add Meeting\nvar addMeeting=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(meeting){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json'}};_context2.prev=1;_context2.next=4;return axios.post('/api/crud',meeting,config);case 4:res=_context2.sent;dispatch({type:ADD_MEETING,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:MEETING_ERROR,payload:_context2.t0.response.msg});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function addMeeting(_x){return _ref2.apply(this,arguments);};}();// Delete Meeting\nvar deleteMeeting=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/api/crud/\".concat(id));case 3:dispatch({type:DELETE_MEETING,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch({type:MEETING_ERROR,payload:_context3.t0.response.msg});case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function deleteMeeting(_x2){return _ref3.apply(this,arguments);};}();// Update Meeting\nvar updateMeeting=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(meeting){var config,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config={headers:{'Content-Type':'application/json'}};_context4.prev=1;_context4.next=4;return axios.put(\"/api/crud/\".concat(meeting._id),meeting,config);case 4:res=_context4.sent;dispatch({type:UPDATE_MEETING,payload:res.data});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);dispatch({type:MEETING_ERROR,payload:_context4.t0.response.msg});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function updateMeeting(_x3){return _ref4.apply(this,arguments);};}();// Clear Meeting\nvar clearMeetings=function clearMeetings(){dispatch({type:CLEAR_MEETINGS});};// Set Current Meeting\nvar setCurrent=function setCurrent(meeting){dispatch({type:SET_CURRENT,payload:meeting});};// Clear Current Meeting\nvar clearCurrent=function clearCurrent(){dispatch({type:CLEAR_CURRENT});};// Filter Meeting\nvar filterMeetings=function filterMeetings(text){dispatch({type:FILTER_MEETINGS,payload:text});};// Clear Filter\nvar clearFilter=function clearFilter(){dispatch({type:CLEAR_FILTER});};return/*#__PURE__*/_jsx(crudContext.Provider,{value:{meetings:state.meetings,current:state.current,filtered:state.filtered,error:state.error,addMeeting:addMeeting,deleteMeeting:deleteMeeting,setCurrent:setCurrent,clearCurrent:clearCurrent,updateMeeting:updateMeeting,filterMeetings:filterMeetings,clearFilter:clearFilter,getMeetings:getMeetings,clearMeetings:clearMeetings},children:props.children});};export default CrudState;","map":{"version":3,"sources":["C:/Users/daniy/Documents/GitHub/livemeetingapp/liveapp/client/src/context/crud/CrudState.js"],"names":["React","useReducer","axios","crudContext","crudReducer","GET_MEETINGS","ADD_MEETING","DELETE_MEETING","SET_CURRENT","CLEAR_CURRENT","UPDATE_MEETING","FILTER_MEETINGS","CLEAR_FILTER","MEETING_ERROR","CLEAR_MEETINGS","CrudState","props","initialState","meetings","current","filtered","error","state","dispatch","getMeetings","get","res","type","payload","data","response","msg","addMeeting","meeting","config","headers","post","deleteMeeting","id","delete","updateMeeting","put","_id","clearMeetings","setCurrent","clearCurrent","filterMeetings","text","clearFilter","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport crudContext from './crudContext';\r\nimport crudReducer from './crudReducers';\r\n\r\n \r\nimport {\r\n    GET_MEETINGS,\r\n    ADD_MEETING,\r\n    DELETE_MEETING,\r\n    SET_CURRENT,\r\n    CLEAR_CURRENT,\r\n    UPDATE_MEETING, \r\n    FILTER_MEETINGS,\r\n    CLEAR_FILTER,\r\n    MEETING_ERROR,\r\n    CLEAR_MEETINGS\r\n} from '../types';\r\n\r\nconst CrudState = props => {\r\n  const initialState = {\r\n    meetings: [],\r\n    current: null,\r\n    filtered: null,\r\n    error: null\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(crudReducer, initialState);\r\n\r\n\r\n \r\n\r\n  // Get Meetings\r\n  const getMeetings = async () => {\r\n    try {\r\n      const res = await axios.get('/api/crud');\r\n\r\n      dispatch({\r\n        type: GET_MEETINGS,\r\n        payload: res.data\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: MEETING_ERROR,\r\n        payload: err.response.msg\r\n      });\r\n    }\r\n  };\r\n\r\n  // Add Meeting\r\n  const addMeeting = async meeting => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post('/api/crud', meeting, config);\r\n\r\n      dispatch({\r\n        type: ADD_MEETING,\r\n        payload: res.data\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: MEETING_ERROR,\r\n        payload: err.response.msg\r\n      });\r\n    }\r\n  };\r\n\r\n  // Delete Meeting\r\n  const deleteMeeting = async id => {\r\n    try {\r\n      await axios.delete(`/api/crud/${id}`);\r\n\r\n      dispatch({\r\n        type: DELETE_MEETING,\r\n        payload: id\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: MEETING_ERROR,\r\n        payload: err.response.msg\r\n      });\r\n    }\r\n  };\r\n\r\n  // Update Meeting\r\n  const updateMeeting = async meeting => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n\r\n    try {\r\n      const res = await axios.put(\r\n        `/api/crud/${meeting._id}`,\r\n        meeting,\r\n        config\r\n      );\r\n \r\n      dispatch({\r\n        type: UPDATE_MEETING,\r\n        payload: res.data\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: MEETING_ERROR,\r\n        payload: err.response.msg\r\n      });\r\n    }\r\n  };\r\n\r\n  // Clear Meeting\r\n  const clearMeetings = () => {\r\n    dispatch({ type: CLEAR_MEETINGS });\r\n  };\r\n\r\n  // Set Current Meeting\r\n  const setCurrent = meeting => {\r\n    dispatch({ type: SET_CURRENT, payload: meeting });\r\n  };\r\n\r\n  // Clear Current Meeting\r\n  const clearCurrent = () => {\r\n    dispatch({ type: CLEAR_CURRENT });\r\n  };\r\n\r\n  // Filter Meeting\r\n  const filterMeetings = text => {\r\n    dispatch({ type: FILTER_MEETINGS, payload: text });\r\n  };\r\n\r\n  // Clear Filter\r\n  const clearFilter = () => {\r\n    dispatch({ type: CLEAR_FILTER });\r\n  };\r\n\r\n  return (\r\n    <crudContext.Provider\r\n      value={{\r\n        meetings: state.meetings,\r\n        current: state.current,\r\n        filtered: state.filtered,\r\n        error: state.error,\r\n        addMeeting,\r\n        deleteMeeting,\r\n        setCurrent,\r\n        clearCurrent,\r\n        updateMeeting,\r\n        filterMeetings,\r\n        clearFilter,\r\n        getMeetings,\r\n        clearMeetings\r\n      }}\r\n    >\r\n      {props.children}\r\n    </crudContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CrudState;"]},"metadata":{},"sourceType":"module"}